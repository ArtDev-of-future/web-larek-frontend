# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Описание данных
Интерфейс ```IItemInit``` используется для получения данных с сервера. В поле ```total``` представлено общее количество элементов. В поле ```items``` представлен массив элементов.

```typescript
interface IItemInit {
    total: number;
    items: IItemCard[];
}
```
Интерфейс ```IItemCard``` хранит в себе данные о каждой карточке товара. В поле ```id``` хранится уникальный идентификатор товара. В поле ```description``` хранится краткое описание товара. В поле ```image``` хранится ссылка на изображение. В поле ```title``` хранится название товара. В поле ```category``` хранится категория товара. В поле ```price``` хранится цена товара.

```typescript
interface IItemCard {
    id: string;
    description: string;
    image: string;
    title: string;
    category: string;
    price: number;
}
```
Интерфейс ```ICart``` хранит в себе массив товаров (```itemCards```), добавленных в корзину. Метод ```addItemCard``` добавляет новый элемент в массив. Метод ```removeItemCard``` удаляет элемент из массива.

```typescript
interface ICart {
    itemCards: IItemCard[];
    addItemCard: (item: IItemCard) => void;
    removeItemCard: (id: string) => void;
}
```
Интерфейс ```ICustomerSet``` хранит в себе данные о введённых покупателем данных. В поле ```paymentType``` хранится метод оплаты. В поле ```address``` хранится адрес. В поле ```email``` хранится электронная почта. В поле ```phone``` хранится номер телефона. Также интерфейс хранит в себе два метода. Метод ```setCustomerInfo``` принимает данные, которые указал покупатель. Метод ```checkValidation``` проверяет введённые данные на валидность.

```typescript
interface ICustomerSet {
    paymentType: string;
    address: string;
    email: string;
    phone: string;
    setCustomerInfo(customer: ICustomerSet): void;
    checkValidation(data: Record<keyof ICustomerSet, string>): boolean;
}
```
## Модели данных (Model)
Класс ```ItemInit``` будет реализовывать интерфейс ```IItemInit```. Данный класс нужен для работы с API запросом и получением от него количества элементов и массива карточек товаров.

Класс ```ItemCard``` будет реализовывать интерфейс ```IItemCard```. Данный класс будет использован для создания объекта карточки для каждого товара.

Класс ```Busket``` будет реализовывать интерфейс ```IBusket```. Данный класс будет использован для работы с корзиной (отображение и управление позициями в корзине).

Класс ```CustomerSet``` будет реализовывать интерфейс ```ICustomerSet```. Данный класс будет использован для работы с формой покупки.

## Компоненты представления (View)
Класс ```Model```. Этот компонент отображает popup. В конструктор этого класса будет передаваться заполненный данными template для отрисовки popup с типом ```string``` и обработчик клика.

Класс ```Success```. Этот компонент отображает страницу успешного завершения покупки. В конструктор этого класса будет передаваться заполненный данными template для отрисовки страницы с типом ```string```.

Класс ```Card``` . Этот компонент отображает карточку. В конструктор этого класса будет передаваться заполненный данными template с типом ```string``` для отрисовки карточки и обработчик клика.

Класс ```Basket```. Этот компонент отображает страницу корзины. В конструктор этого класса будет передаваться заполненный данными template для отрисовки страницы с типом ```string``` и обработчик клика.

Класс ```Order```. Этот компонент отображает страницу оформления заказа. В конструктор этого класса будет передаваться заполненный данными template для отрисовки страницы с типом ```string``` и обработчик клика.

Класс ```Contacts```. Этот компонент отображает страницу для заполнения контактных данных. В конструктор этого класса будет передаваться заполненный данными template для отрисовки страницы с типом ```string``` и обработчик клика.

## Описание событий
При открытии главной страницы происходит запрос к API и отрисовка полученных карточек. При клике на карточку открывается popup с подробной информацией о товаре и кнопкой ```В корзину```. При клике на кнопку ```В корзину``` происходит добавление карточки в корзину и закрытие popup с карточкой товара. Далее пользователь может добавить ещё товары или перейти в корзину. Во втором случае открывается popup корзины со списком товаров и общей суммой заказа. Пользователь может удалить определённый товар по нажатию на иконку ```trash bin``` напротив соответствующего товара. Затем пользователь по нажатию на кнопку ```Оформить``` попадает на следующий этап (открывается popup с формой заказа). Пользователь выбирает способ оплаты и вводит свои данные. Кнопка перехода на следующий этап будет неактивна до тех пор, пока все поля не будут заполнены. При выполнении всех условий пользователь сможет воспользоваться кнопкой ```Оплатить``` и попадёт на popup с сообщением об успешной покупке.